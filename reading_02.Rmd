Questions about Rex Kline's book (for Tue., Sept. 17)**
===============================================================================

Read pages 28-51 (until "Data screening") and pp. 52-53 (Topic Box 3.1) in Rex Kline's book and prepare the answers to the following questions.
 
Chapter 2
-------------------------------------------------------------------------------

**When my goal is to describe (in standardized terms) the relative explanatory power of each predictor controlling for the rest, should I report beta weights or partial correlations?**
 
**Spearman's rank-order correlation describes the relationship between two dichotomous variables. True or false?**
 
**Can SEM handle dichotomous outcome variables?**
 
**What is the "critical ratio"? Above which value are critical ratios generally statistically significant?**
 
**Name some factors that affect the statistical power of a test.**
 
**For which types of solutions are standard errors generally calculated in maximum likelihood estimation: for the standardized or for the unstandardized solution? Once my SEM has generated the estimates for one type of solution, can I apply the statistical significance of the estimates to the other type of solution (i.e., does the statistical significance of the standardized regression weights apply to the unstandardized regression weights and/or vice versa)?**
 
**We are going to evaluate our structural models by computing a Chi square statistic. Does chi square indicate the degree of perfect fit or the degree of approximate fit.**
 
**What is the difference between parametric and nonparametric bootstrapping?**
 
 
Chapter 3
-------------------------------------------------------------------------------
 
**Assuming means are not analyzed, what are the three types of data input formats that all standard SEM programs can analyze?**

1. Raw data
2. Covariance matrix
3. Correlation matrix + standard deviations

Use 4-decimal accuracy for matrix summaries.
 
**Kline talks about matrices in "lower diagonal form". What does he refer to?**
 
**Is it acceptable to submit for analyses just a correlation matrix without standard deviations? Justify your answer.**
 
**A data matrix is positive definite only if it possesses certain characteristics. Name at least three of these characteristics:**
 
**Name three of the most common causes of nonpositive definite matrices.**
 
 
 
**Exercise 1 (p. 73): Compute a correlation matrix from a lower diagonal covariance matrix:**

```{r}
# Make the matrix
d <- matrix(data=c(42.25,  31.72,  63.05, 
                   31.72, 148.84,  82.84, 
                   63.05,  82.84, 376.36), 
            nrow = 3, dimnames=list(c("X", "Y", "Z"), c("x", "y", "z")))
print(d)
# Get the SDs from the variances in the diagonal
variances <- diag(d)
SDs <- sqrt(variances)
print(SDs)
# Divide each row/column by the SD in the variances along the diagonal
d2 <- d
for(i in 1:3) {
  d2[i, ] <- d2[i, ] / SDs[i]
  d2[, i] <- d2[, i] / SDs[i]
}
print(d2, digits=2)
# Alternatively:
cov2cor(d)
```

**Exercise 2 (p. 73). Don't worry if you don't know how to do mean substitution.**
```{r}
# Load in the data file, look at the correlations using different missing data strategies
d <- read.csv("data/chap02_ex02.csv")
str(d)
# Listwise deletion
cor(d, use="complete.obs")
# Pairwise deletion
cor(d, use="pairwise.complete.obs")
# Mean substition
SubstituteMean <- function(x) ifelse(is.na(x), mean(x, na.rm=T), x)
d2 <- apply(d, 2, SubstituteMean)
cor(d2)
```

**Exercise 3 (p. 73)**

```{r}
# Transform the covariance matrix into a correlation matrix. 
cov_matrix <- matrix(data=c(12, 13, 13, 10), nrow=2)
# The correlation is greater than 1.0, so it's out of bounds. 
cov2cor(cov_matrix)
```


**Exercise 4 (p. 73). Hint: There two ways to show that a matrix is nonpositive definite. Either you submit the covariance matrix to an online matrix calculator (e.g., www.bluebit.gr/matrix-calculator). Or you show that the correlation matrix contains an out-of-bounds value.**

```{r}
d <- read.csv("data/chap02_ex04.csv")
str(d)
cov_matrix <- cov(x=d[, 2:4], use="pairwise.complete.obs")
# Does the correlation matrix have an OOB value? Yes.
cov2cor(cov_matrix)
```

_Is the covariance matrix nonpositive definitive?_

```{r}
# No the determinant is negative
det(cov_matrix)
# No there's a negative eigenvalue
eigen(cov_matrix)
```


