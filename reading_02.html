<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Questions about Rex Kline&#39;s book (for Tue., Sept. 17)</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>


<!-- MathJax scripts -->
<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



</head>

<body>
<h1>Questions about Rex Kline&#39;s book (for Tue., Sept. 17)</h1>

<p>Read pages 28-51 (until &ldquo;Data screening&rdquo;) and pp. 52-53 (Topic Box 3.1) in Rex Kline&#39;s book and prepare the answers to the following questions.</p>

<h2>Chapter 2</h2>

<p><strong>When my goal is to describe (in standardized terms) the relative explanatory power of each predictor controlling for the rest, should I report beta weights or partial correlations?</strong>  </p>

<p>\[ 
  b_{X} =
    \frac{\rho_{XY} - \rho_{XZ}\rho_{ZY}}
    {{1-\rho_{XZ}^2}}
 \]</p>

<p>\[ 
  \rho_{XY\cdot Z } =
    \frac{\rho_{XY} - \rho_{XZ}\rho_{ZY}}
    {\sqrt{1-\rho_{XZ}^2} \sqrt{1-\rho_{ZY}^2}}
 \]</p>

<p>Beta weights are standardized regression coefficients. Partial correlations, when squared, can tell us about the proportion of variance in the dependent variable accounted for by one predictor, controlling for the others.</p>

<p><strong>Spearman&#39;s rank-order correlation describes the relationship between two dichotomous variables. True or false?</strong></p>

<p>False. It is for a pair of ranked variables.</p>

<p><strong>Can SEM handle dichotomous outcome variables?</strong></p>

<p>Yes, by using the principles from logistic regression.</p>

<p><strong>What is the &ldquo;critical ratio&rdquo;? Above which value are critical ratios generally statistically significant?</strong></p>

<p>A critical ratio is a sample statistic over its standard error. For the <em>z</em> statistic, the critical ratio is 1.96 at the 0.05 level and 2.58 at the 0.01 level in a two-tailed test. </p>

<p><strong>Name some factors that affect the statistical power of a test.</strong></p>

<ol>
<li>Magnitude of the actual effect in the population</li>
<li>Sample size</li>
<li>Significance level</li>
<li>Direction of hypothesis (tailed-ness of test)</li>
<li>Independent vs dependent samples</li>
<li>Whether a parametric or nonparametric statistic is used</li>
<li>Measurement reliability</li>
</ol>

<p><strong>For which types of solutions are standard errors generally calculated in maximum likelihood estimation: for the standardized or for the unstandardized solution? Once my SEM has generated the estimates for one type of solution, can I apply the statistical significance of the estimates to the other type of solution (i.e., does the statistical significance of the standardized regression weights apply to the unstandardized regression weights and/or vice versa)?</strong></p>

<p>Standard errors are generally calculate for the unstandardized solution. The significance of the unstandardized estimate does not automatically carry over to the standarized estimate. </p>

<p><strong>We are going to evaluate our structural models by computing a Chi square statistic. Does chi square indicate the degree of perfect fit or the degree of approximate fit.</strong></p>

<p>Approximate fit. </p>

<p><strong>What is the difference between parametric and nonparametric bootstrapping?</strong></p>

<p>In parametric bootstrapping, the observations are resampled from a theoretical probability distribution, whereas in nonparametric bootstrapping, observations are resampled from a pseudopopulation (our sample).</p>

<h2>Chapter 3</h2>

<p><strong>Assuming means are not analyzed, what are the three types of data input formats that all standard SEM programs can analyze?</strong></p>

<ol>
<li>Raw data</li>
<li>Covariance matrix</li>
<li>Correlation matrix + standard deviations</li>
</ol>

<p>Use 4-decimal accuracy for matrix summaries.</p>

<p><strong>Kline talks about matrices in &ldquo;lower diagonal form&rdquo;. What does he refer to?</strong></p>

<p>A matrix which omits any cells that fall above the diagonal:</p>

<p><strong>Is it acceptable to submit for analyses just a correlation matrix without standard deviations? Justify your answer.</strong></p>

<p>Only if the raw data just happens to have a covariance matrix that is identical to its correlation matrix. </p>

<p><strong>A data matrix is positive definite only if it possesses certain characteristics. Name at least three of these characteristics:</strong></p>

<ol>
<li>The matrix is nonsingular, or invertible.</li>
<li>All eigenvalues of the matrix are greater than zero.</li>
<li>The determinant of the matrix is greater than zero.</li>
<li>All of the correlations and covariances are not out of bounds.</li>
</ol>

<p><strong>Name three of the most common causes of nonpositive definite matrices.</strong></p>

<ol>
<li>Extreme collinearity</li>
<li>Outliers that inflate the correlations</li>
<li>Pairwise deletion of missing data</li>
<li>Transcription error</li>
<li>Sampling error</li>
<li>Using matrices of estimated Pearson correlations</li>
</ol>

<p><strong>Exercise 1 (p. 73): Compute a correlation matrix from a lower diagonal covariance matrix:</strong></p>

<pre><code class="r"># Make the matrix
d &lt;- matrix(data = c(42.25, 31.72, 63.05, 31.72, 148.84, 82.84, 63.05, 82.84, 
    376.36), nrow = 3, dimnames = list(c(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;), c(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;)))
print(d)
</code></pre>

<pre><code>##       x      y      z
## X 42.25  31.72  63.05
## Y 31.72 148.84  82.84
## Z 63.05  82.84 376.36
</code></pre>

<pre><code class="r"># Get the SDs from the variances in the diagonal
variances &lt;- diag(d)
SDs &lt;- sqrt(variances)
print(SDs)
</code></pre>

<pre><code>## [1]  6.5 12.2 19.4
</code></pre>

<pre><code class="r"># Divide each row/column by the SD in the variances along the diagonal
d2 &lt;- d
for (i in 1:3) {
    d2[i, ] &lt;- d2[i, ]/SDs[i]
    d2[, i] &lt;- d2[, i]/SDs[i]
}
print(d2, digits = 2)
</code></pre>

<pre><code>##     x    y    z
## X 1.0 0.40 0.50
## Y 0.4 1.00 0.35
## Z 0.5 0.35 1.00
</code></pre>

<pre><code class="r"># Alternatively:
cov2cor(d)
</code></pre>

<pre><code>##     x    y    z
## X 1.0 0.40 0.50
## Y 0.4 1.00 0.35
## Z 0.5 0.35 1.00
</code></pre>

<p><strong>Exercise 2 (p. 73). Don&#39;t worry if you don&#39;t know how to do mean substitution.</strong></p>

<pre><code class="r"># Load in the data file, look at the correlations using different missing
# data strategies
d &lt;- read.csv(&quot;data/chap02_ex02.csv&quot;)
str(d)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ X: int  NA 12 13 NA 15 13 17 18 19 17
##  $ Y: int  15 23 25 18 20 15 NA 24 21 NA
##  $ W: int  NA 48 38 38 39 35 36 47 42 NA
</code></pre>

<pre><code class="r"># Listwise deletion
cor(d, use = &quot;complete.obs&quot;)
</code></pre>

<pre><code>##        X      Y      W
## X 1.0000 0.1336 0.2537
## Y 0.1336 1.0000 0.6103
## W 0.2537 0.6103 1.0000
</code></pre>

<pre><code class="r"># Pairwise deletion
cor(d, use = &quot;pairwise.complete.obs&quot;)
</code></pre>

<pre><code>##        X      Y      W
## X 1.0000 0.1336 0.1125
## Y 0.1336 1.0000 0.6453
## W 0.1125 0.6453 1.0000
</code></pre>

<pre><code class="r"># Mean substition
SubstituteMean &lt;- function(x) ifelse(is.na(x), mean(x, na.rm = T), x)
d2 &lt;- apply(d, 2, SubstituteMean)
cor(d2)
</code></pre>

<pre><code>##         X       Y      W
## X 1.00000 0.04757 0.1016
## Y 0.04757 1.00000 0.5323
## W 0.10156 0.53227 1.0000
</code></pre>

<p><strong>Exercise 3 (p. 73)</strong></p>

<pre><code class="r"># Transform the covariance matrix into a correlation matrix.
cov_matrix &lt;- matrix(data = c(12, 13, 13, 10), nrow = 2)
cov2cor(cov_matrix)
</code></pre>

<pre><code>##       [,1]  [,2]
## [1,] 1.000 1.187
## [2,] 1.187 1.000
</code></pre>

<p>The correlation is greater than 1.0, so it&#39;s out of bounds. </p>

<p><strong>Exercise 4 (p. 73). Hint: There two ways to show that a matrix is nonpositive definite. Either you submit the covariance matrix to an online matrix calculator (e.g., <a href="http://www.bluebit.gr/matrix-calculator">www.bluebit.gr/matrix-calculator</a>). Or you show that the correlation matrix contains an out-of-bounds value.</strong></p>

<pre><code class="r">d &lt;- read.csv(&quot;data/chap02_ex04.csv&quot;)
str(d)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    7 obs. of  4 variables:
##  $ Case: Factor w/ 7 levels &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,..: 1 2 3 4 5 6 7
##  $ X   : int  42 34 22 NA 24 16 30
##  $ Y   : int  8 10 12 14 16 NA NA
##  $ W   : int  13 12 NA 8 7 10 10
</code></pre>

<p><em>Does the correlation matrix have an OOB value?</em> Yes.</p>

<pre><code class="r">cov_matrix &lt;- cov(x = d[, 2:4], use = &quot;pairwise.complete.obs&quot;)
cov2cor(cov_matrix)
</code></pre>

<pre><code>##         X       Y       W
## X  1.0000 -0.8959  0.7501
## Y -0.8959  1.0000 -1.4792
## W  0.7501 -1.4792  1.0000
</code></pre>

<p><em>Is the covariance matrix nonpositive definitive?</em> No.</p>

<pre><code class="r"># No the determinant is negative
det(cov_matrix)
</code></pre>

<pre><code>## [1] -2539
</code></pre>

<pre><code class="r"># No there&#39;s a negative eigenvalue
eigen(cov_matrix)
</code></pre>

<pre><code>## $values
## [1] 98.229  7.042 -3.671
## 
## $vectors
##         [,1]    [,2]    [,3]
## [1,]  0.9333 -0.3494 0.08289
## [2,] -0.3020 -0.6391 0.70736
## [3,]  0.1941  0.6852 0.70197
</code></pre>

</body>

</html>

